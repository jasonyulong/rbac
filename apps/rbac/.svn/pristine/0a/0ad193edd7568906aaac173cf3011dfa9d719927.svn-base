/*!
 * Start Bootstrap - Admin v3.3.7+1 (https://github.com/KevinsDeveloper/bootstrap4-admin)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
define(["jquery","bootstrap","template","datatables.net","datatables-bootstrap"],function(t,e,a,e,e){var c={open:function(e,a,c){t(".content").on("click",e,function(){var e=t(this).attr("data-url")||"",n=a||"",i=c?c:"550px";Fast.api.open(e,n,{area:["700px",i]})})},get_batch_params:function(){for(var e=[],a=t(".data-check_box"),c="data-id",n=0;n<a.length;n++)if(t(a[n]).is(":checked")){var i=t(a[n]).attr(c);i=t.trim(i),i&&e.push(i)}var o=e;return o},fun:function(){window.location.reload()}},n={_initialize:function(){t(".data-check_box_total").click(function(){for(var e=t(this),a=e.is(":checked"),c=t(".data-check_box"),n=0;n<c.length;n++)t(c[n]).prop("checked",a);t(".box_total").html(t("input[name='box_checked']:checked").length)}),t(".data-check_box").click(function(){t(".box_total").html(t("input[name='box_checked']:checked").length)}),t(".batch_delete").click(function(){layer.confirm("确定删除吗?",{icon:3,title:"重要提示"},function(e){var a=t(".batch_delete").attr("data-url"),n=c.get_batch_params();if(console.log(a),0==n.length)return layer.msg("请选择操作的数据"),!1;var i=n.join(","),o=[];o.url=a,o.data={ids:i},Fast.api.ajax(o,c.fun)})}),t(".batch_move").click(function(){layer.confirm("确定移除吗?",{icon:3,title:"重要提示"},function(e){var a=t(".batch_move").attr("data-url"),n=c.get_batch_params();if(0==n.length)return layer.msg("请选择操作的数据"),!1;var i=n.join(","),o=[];o.url=a,o.data={ids:i},Fast.api.ajax(o,c.fun)})}),t(".move").click(function(){var e=t(this).attr("data-url");layer.confirm("确定移除吗?",{icon:3,title:"重要提示"},function(t){console.log(e);var a=[];a.url=e,Fast.api.ajax(a,c.fun)})}),t(".dataTables").DataTable({searching:!0,order:!1,info:!1,ordering:!1,sorting:!1,aLengthMenu:[10,20,25,50,100],pageLength:Config.app.pagesize||25,pagingType:"full_numbers",language:{sSearch:"搜索：",lengthMenu:"每页 _MENU_ 条记录",emptyTable:"未找到相关数据",paginate:{previous:"上一页",next:"下一页",first:"首页",last:"末页"}}})},position:function(){var e={add:".add",edit:".edit",copy:".copy",cat:".cat",auth:".auth"};c.open(e.add,"新增岗位",""),c.open(e.edit,"编辑岗位",""),c.open(e.copy,"复制岗位",""),c.open(e.cat,"查看用户","680px"),t(".content").on("click",e.auth,function(){layer.msg("待开发")})},tag:function(){var e={add:".add",edit:".edit",copy:".copy",cat:".cat",auth:".auth"};c.open(e.add,"新增标签","400px"),c.open(e.edit,"编辑标签","400px"),c.open(e.copy,"复制标签","400px"),c.open(e.cat,"查看用户","680px"),t(e.auth).click(function(){layer.msg("待开发")})},access:function(){function e(e,a){for(var c=".level"+a+"-rule",n=".level"+(a+1)+"-checkbox",i=t(e).closest(c).find(n),o=0,l=0;l<i.length;l++)t(i[l]).is(":checked")&&o++;var r=o==i.length;return r}function a(e,a,c){var n=".level"+a+"-rule",i=".level"+a+"-checkbox",o=t(e).closest(n).find(i);t(o).prop("checked",c)}function c(e,a){for(var c=t(e).is(":checked"),n=".level"+a+"-rule";a<4;){var i=".level"+(a+1)+"-checkbox";t(e).closest(n).find(i).prop("checked",c),a++}}function n(){t(".level1-checkbox").click(function(e){c(t(this),1)}),t(".level2-checkbox").click(function(n){c(t(this),2),a(t(this),1,e(t(this),1))}),t(".level3-checkbox").click(function(n){c(t(this),3),a(t(this),2,e(t(this),2)),a(t(this),1,e(t(this),1))}),t(".level4-checkbox").click(function(c){a(t(this),3,e(t(this),3)),a(t(this),2,e(t(this),2)),a(t(this),1,e(t(this),1))})}n()}};return n});