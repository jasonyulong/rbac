/*!
 * Start Bootstrap - Admin v3.3.7+1 (https://github.com/KevinsDeveloper/bootstrap4-admin)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
define(["jquery","bootstrap","form-validator"],function(o,r,a){var e={countdown:60,submit:"#submit",loginForm:"#loginForm",locksform:"#locks-form",loginboxmsg:".login-tips",alert:".alert",admin:!1},l={index:function(){var r=function(){o(e.submit).attr("disable",!0).html("Loding..."),o(e.submit).removeClass("bg-purple").addClass("bg-default")},a=function(){o(e.submit).attr("disable",!1).html("Sign In"),o(e.submit).removeClass("bg-default").addClass("bg-purple")};o(e.loginForm).on("valid.form",function(){var e=o(this).attr("action"),l=layer.load();o(this);r(),o.ajax({url:e,type:"post",dataType:"json",data:o(this).serialize(),success:function(o){return layer.close(l),a(),1!=o.code?layer.alert(o.msg):o.url?void(location.href=o.url):void layer.alert(o.msg,{closeBtn:0},function(o){parent.layer.close(parent.layer.getFrameIndex(window.name)),parent.layer.close(o),parent.window.location.reload(),window.location.reload()})},error:function(o){return layer.close(l),a(),layer.alert("请求或返回数据异常")}})})},locks:function(){o(e.locksform).on("valid.form",function(){var r=o(this).attr("action"),a=layer.load();o.ajax({url:r,type:"post",dataType:"json",data:o(this).serialize(),success:function(o){return layer.close(a),1!=o.code&&layer.alert(o.msg,{closeBtn:0},function(r){o.url?location.href=o.url:parent.layer.close(r)}),o.url?void(location.href=o.url):void layer.alert(o.msg,{closeBtn:0},function(o){parent.layer.close(o),parent.window.location.reload(),window.location.reload()})},error:function(o){return layer.close(a),layer.alert("请求或返回数据异常")}})})}};return l});